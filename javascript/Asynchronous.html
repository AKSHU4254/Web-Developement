<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asynchornaus</title>
</head>
<script>
    const item=[
        {
            id:1,
            name:"Keyboard",
            price:300
        },
        {
            id:2,
            name:"mouse",
            price:350

        }
    ];

    function getitems()
    {
        let output="";
        setTimeout(()=>{
            item.forEach((item,index)=>{
                output+=`<li>${item.name}</li>`;  //dat quote
            })
            document.body.innerHTML=output;
        },2000);
    }
    //  getitems();

    function createdata(newitem)
    {
        setTimeout(()=>{
            item.push(newitem);
        },2000);         // if time is less than getitem function timing data will get added if not it will not add.
        

    }
    // getitems();
    // createdata({id:3,name:"printer",price:5000});

    // -------using callback---------

    // function createdata(newitem,callback)
    // {
    //     setTimeout(()=>{
    //         item.push(newitem);
    //         callback();
    //      },2000);
    // }
    // createdata({id:4,name:"Screen",price:9000},getitems);

    // -------using promises--------

    // function createdata(newitem)
    // {
    //     return new Promise((resolve,reject)=>{

    //         setTimeout(()=>{
    //             item.push(newitem);
    //             let error=false;    // if its true it will show error on console
    //             if(!error)
    //             {
    //                 resolve();
    //             }
    //             else
    //             {
    //                 reject("something went wrong");
    //             }
    //         },2000);
    //     })
    // }
    //  createdata({id:3,name:"Earphone",price:2500})
    //  .then(getitems)
    //  .catch(err=>console.log(err));

     // <----------using async and await-------------->

     async function start()
     {
        await createdata({id:3,name:"Speaker",price:5000})
        getitems();
     }
     start();

</script>
<body>
    
</body>
</html>